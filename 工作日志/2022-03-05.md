# Done

# TODO
- [x] 把 LED 的驱动流程规范化。
- [x] 把不同的 LED 灯进行熄灭。
	- [ ] 把 LED_1 部分的灯熄灭。
		- [x] 在原理图中找到 LED_1 。
			- [x] 确定是 PS_MIO42 接口。
		- [x] 在代码中把 MIO42 接口设置为 GPIO 接口。
		- [x] 给该接口通电。
			- [x] 这个接口是 42 是属于 bank1 部分。在 bank1 部分找到对应的控制电源的部分。
		- [x] 设置该接口是 schmitt 还是 cmos。
		- [x] 设置 MIO 的上下拉和使能。
		- [x] 设置 MIO 速率。
		- [x] 设置 MIO 方向。
		- [x] 使能 MIO 作为 GPIO 使用。
		- [x] 设置 GPIO 的输出。
		
- [ ] 教程部分的实现。
- [ ] 对标 Linux 部分做的比较好的，给一个具体的规划。

# Note
- 寄存器分类
	- 输出寄存器
	- 输入寄存器
	- 方向寄存器
	- 使能寄存器
- PS 端的 IO
	- MIO
		- Bank0：0-25
		- Bank1：26-51
		- Bank2：52-77
	- EMIO
		- Bank3：0-31
		- Bank4：32-63
		- Bank5：64-95

# Idea
- 继续 LED 代码部分的完成。
	- GPIO 控制 LED 的驱动部分的代码。
		- 内存映射。
			- 将物理地址映射至虚拟地址。
				- 将两个寄存器部分映射到虚拟地址。
					- 一个是 (GPIO_Module) 的多功能输入输出模块寄存器。
					- 一个是 (IOU_SLCR) 系统层级的控制模块的寄存器。
		- 硬件初始化。
			- 通过查询手册把需要的寄存器进行相关的处理。
				- 需要设置的寄存器，需要根据所需要的板子的原理图通过查询器件来获得具体的 MIO 的序号。
					- 在原理图中找到需要的 LED 硬件。找到对应的MIO引脚。例如 LED_4 和 LED_6 分别是 MIO12 和 MIO24。
					- 再根据 MIO12 和 MIO24 在手册的 SLCR （系统层级控制）部分找到对应的控制 MIO 的相对地址。
					- 之后再在代码部分的基地址上加上对应的地址，就能得到该寄存器在虚拟地址中的位置，然后就可以通过读写对其进行按位与，或，实现复位或者手册中描述的其他的功能。
					- 相关的寄存器设置
						- 先设置 GPIO 的 MIO 功能。
						- 再设置 MIO 部分的输出电流大小。
							- 根据 LED 硬件所在的 MIO 的序号，例如 LED4 所在的 MIO 引脚为 PS_MIO12。从而可以知道，需要找到手册中的 Bank0 部分能够控制电流的功能。
							- 如何知道控制电流的是哪个寄存器呢？【问】
						- 之后再设置对输入引脚的选择。
							- CMOS 和 Schmitt 这两个有什么区别呢？【问】
						- 然后再设置与使能上下拉。
							- 设置上下拉的作用是什么？
								- 上拉似乎是电阻接电压，给予高电平。
								- 下拉似乎是电阻接地，给予低电平。
							- 使能上下拉与设置上下拉的区别是什么？
								- 使能就是打开或者关闭。
								- 设置就是配置的意思。
						- 之后再设置引脚速率。
							- 如何找到对应的 MIO 的设置速率的寄存器？
								- 根据 MIO 的序号，找到对应的 Bank，然后再在手册的 Bank 部分找到对应的控制输出部分的地址。然后通过读写对其进行设置。
						- 之后再设置方向寄存器的方向。这个部分是控制 GPIO 的功能的部分了。需要进入 GPIO_Module 部分进行设置。之前的都是再 IOU_SLCR 部分进行的设置。
							- 它所设置的数字的含义是什么？
								- 将十六进制转化为二进制，然后就能找到对应的 MIO 的点，然后对其进行控制。
							- 0 是输入，1 是输出。
							- 一共是 25 个 MIO 的接口。现在需要做的是把 12 和 24 的 MIO 接口的方向改为输出。
						- 然后，再设置 GPIO 部分的使能设置。
							- 如果 IO 被设置为了输出，那么就需要设置使能，也就是说，之前的只是配置，并未打开。而使能是将其打开。0 为关闭，1 为打开。
						- 之后，再通过输出寄存器，控制对应 MIO 的输出。
							- 把对应的 MIO12 和 MIO24 的输出改为 0。然后，禁止输出。
						- 输出数据控制寄存器有什么作用？【问】