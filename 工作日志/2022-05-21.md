# [[已解决]]
- 今天把昨天的问题解决了，主要是由于设备树的问题，所以导致的一系列的无法进入系统。为了解决这个问题，我觉得每次执行项目都得重新生成设备树。
- 还出现了一次小问题，就是移植之后系统出现了一些小 bug，能够进入系统，但是系统中的东西少了很多。这个通过重新安装编译的包解决了。
- spi 和 can 这两个部分今天都已经完成了。主要是 spi 完成了，这是第一次自己写设备树，且完成。主要是有解决问题的思路，虽然是笨方法。

# [[待办]]
- 似乎可以在 uboot 中设置 dr_mode。那么，如何在 uboot 的配置中设置呢？

# 笔记
- 对错误进行排查，昨天的系统在 uboot 进入到 kernel 的时候出现了卡住的问题。
	- ![[xshE56A.tmp.txt]]
- 今天的想法是，直接把我自己写的设备树替换为之前的设备树，以排除设备树的问题。
- 如果系统出现同样的问题，那么，我将会把显示信息保存下来，找到之前完成过的设备树和相关的配置文件重新生成能够进入系统的配置，然后保存下来好的显示信息，与之前的显示信息进行比对，从而明白，当前的系统出现了什么问题。
	- ![[Pasted image 20220521111706.png]]
	- ![[Pasted image 20220521112024.png]]
- 解决了 dr_mode 的问题之后，又出现了 mmc 的问题。显示为 "xlnx,mio_bank" 这个属性无法找到,这个部分的问题实际上是在驱动部分写错了的原因。
- 找到最关键的部分，哪些部分是最关键的。
	- 如果 sd0 全注释掉，那么就会无法启动，进不去系统。
	- 保留 no-1-8-v，测试，失败。无法进入系统。
	- 保留 no-1-8-v 和 disable-wp， 则可以进入系统。
	- 保留 disable-wp，测试，无法进入系统。提示有无法识别的块。
	- sd0 的两个参数都是非常重要的，去掉任何一个都无法进入系统。
	- 而 sd1 的参数，如果全部注释掉，是可以进入系统的，但是，网络部分会失败。但是，重启之后，这个问题似乎就又消失了。
- 刚刚为什么没有想到是系统的包的问题呢？下意识中，我默认虚拟机中的一切都是完好的。会出现变化的只可能是我添加进去的东西。
# [[想法]]

# [[存档]]